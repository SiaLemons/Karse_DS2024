---
title: "Data Science - Karse projekt"
author: "Silje M. Lund og Regitze C. Skibsted"
date: "2024-02-26"
output: 
  rmdformats::robobook:
    self_contained: true
    thumbnails: false
    lightbox: true
    gallery: true
    highlight: tango
---

# Todo

-   billede af opstilling
-   Højeste karse i hvert forsøg
-   arduino kode
-   billeder i github
-   linear regression over vækst rate
-   histogram over residualer
-   agumenter farve/tema valg
-   En masse lækker tekst


# Projektdefinering

Dette projekt er lavet i forbindelse med kurset `Data Science` og omhandler dataopsamling, exploratory data analyse og data kommunikation.

## Basal informationer

Her findes informationerne omkring gruppen der har lavet dette projekt

```{r}
#Gruppemedlemmer: Regitze og Silje
#Studieretning: Biologi
#Alias: Regilje
```

# Projekt

## Opsætning af data

### Libraries

```{r message=FALSE}
library(tidyverse)
library(lubridate)
library(plotly)
```

### Indlæs data
#### Karse naturligt lys
```{r}
Karse_N <- read_delim(file = "data/KARSELOG.TXT", delim = "\t") %>% 
  filter(DatoTid != "Dato")


Karse_N <- Karse_N %>% 
  filter(DatoTid != "2000-00-00T00:00:00") %>% 
  mutate(Eksperiment = "Karse normal",
         DatoTid = ymd_hms(DatoTid),
         Dato_min = round_date(DatoTid, unit = "5 mins"),
         Vækst = max(Afstand) - Afstand,
         Lys_pct = (Lys - min(Lys))/(max(Lys) - min(Lys))*100) %>% 
  select(Dato_min, Temperatur, Vækst, Lys_pct, Eksperiment) %>% 
  pivot_longer(cols = c(Temperatur, Vækst, Lys_pct)) %>% 
  group_by(Dato_min, name, Eksperiment) %>% 
  summarise(mean = mean(value)) %>% 
  ungroup() %>% 
  mutate(delta_tid = Dato_min - ymd_hms("2024-02-27 21:27:34"))
```








```{r warning=FALSE}
Karse_N <- read_delim("Data/KARSELOG.TXT", delim = "\t")
Karse_N <- Karse_N %>%
  filter(DatoTid != "Dato")
Karse_N$DatoTid <- as.POSIXct(Karse_N$DatoTid, format="%Y-%m-%dT%H:%M:%OS", tz = "UTC")

rep_numbers <- rep(1:180, 10000)

Karse_N <- Karse_N %>% 
  filter(Afstand < 135) %>% 
  mutate(indeks = rep_numbers[1:length(Afstand)]) %>%
  filter(indeks == 1) %>%
  filter(between(x = DatoTid, 
                 left = as.POSIXct("2024-02-27 21:27:34"), 
                 right = as.POSIXct("2024-03-05 13:49:39"))) %>%
  mutate(Vækst = max(Afstand) - Afstand) %>%
  select(-Afstand, -indeks)
Karse_N <- pivot_longer(data = Karse_N, 
                     cols = c("Vækst", "Lys", "Luftfugtighed", "Temperatur"),
                     names_to = "variable",
                     values_to = "value")
head(Karse_N)
```
#### Karse i mørke
```{r warning=FALSE}
Karse_M <- read_delim("Data/KARSELOG_M.TXT", delim = "\t")
Karse_M <- Karse_M %>%
  filter(DatoTid != "Dato")
Karse_M$DatoTid <- as.POSIXct(Karse_M$DatoTid, format="%Y-%m-%dT%H:%M:%OS", tz = "UTC")

rep_numbers <- rep(1:180, 10000)

Karse_M <- Karse_M %>% 
  filter(Afstand < 135) %>% 
  mutate(indeks = rep_numbers[1:length(Afstand)]) %>%
  filter(indeks == 1) %>%
  filter(between(x = DatoTid, 
                 left = as.POSIXct("2024-03-06 22:12:01"), 
                 right = as.POSIXct("2024-03-11 07:38:25"))) %>%
  mutate(Vækst = max(Afstand) - Afstand) %>%
  select(-Afstand, -indeks)
Karse_M <- pivot_longer(data = Karse_M, 
                     cols = c("Vækst", "Lys", "Luftfugtighed", "Temperatur"),
                     names_to = "variable",
                     values_to = "value")
head(Karse_M)
```

#### Karse i kunstiglys
```{r}
#Karse_M <- read_delim("Data/KARSELOG_M.TXT", delim = "\t")
```

## Kombiner data
```{r}
d <- rbind.data.frame(Karse_N, Karse_M)
```














# Arduino kode

[GitHub](https://github.com/SiaLemons/Karse_DS2024)

# Informations om versioner

```{r}
sessionInfo()
```
